## ğŸš€ 1. Yeni Kurulum Yapanlar Ä°Ã§in (SÄ±fÄ±rdan)

### âœï¸ AdÄ±m 1: KlasÃ¶r YapÄ±sÄ±nÄ± Kur
```
mkdir -p ~/pop-node-docker/pipe
cd ~/pop-node-docker
```
```
touch start.sh
```
```
nano pipe/config.json
```
### ğŸ–‹ AdÄ±m 2: config.json Ã¶rneÄŸi
```
nano config.json
```
```
{
  "pop_name": "",
  "pop_location": "",
  "invite_code": "YOUR_INVITE_CODE",
  "server": {
    "host": "0.0.0.0",
    "port": 443,
    "http_port": 80,
    "workers": 40
  },
  "cache_config": {
    "memory_cache_size_mb": 8192,
    "disk_cache_path": "./cache",
    "disk_cache_size_gb": 100,
    "default_ttl_seconds": 86400,
    "respect_origin_headers": true,
    "max_cacheable_size_mb": 1024
  },
  "api_endpoints": {
    "base_url": "https://dataplane.pipenetwork.com"
  },
  "identity_config": {
    "node_name": "",
    "name": "",
    "email": "",
    "website": "",
    "discord": "",
    "telegram": "",
    "solana_pubkey": "YOUR_SOLANA_WALLET"
  }
}
```
### âœï¸ AdÄ±m 3: start.sh
```
nano start.sh
```
```
#!/bin/bash

CONFIG_FILE=/root/pipe/config.json

echo "Starting POP node with config:"
cat $CONFIG_FILE

export POP_CONFIG_PATH=$CONFIG_FILE

/usr/local/bin/pop

chmod +x start.sh
```
### ğŸ“„ AdÄ±m 4: Dockerfile
```
nano dockerfile
```
```
FROM ubuntu:24.04

RUN apt update && apt upgrade -y && apt install -y wget ca-certificates curl libssl-dev && \
    wget https://download.pipe.network/static/pop-v0.3.1-linux-x64.tar.gz && \
    tar -xzf pop-v0.3.1-linux-*.tar.gz -C /usr/local/bin && \
    chmod +x /usr/local/bin/pop && \
    rm pop-v0.3.1-linux-*.tar.gz

WORKDIR /root/pipe

COPY start.sh /start.sh
RUN chmod +x /start.sh

CMD ["/start.sh"]
```
### ğŸ“„ AdÄ±m 5: docker-compose.yml
```
nano docker-compose.yml
```
```
services:
  pop-node:
    build: .
    container_name: pop-node
    restart: always
    environment:
      - POP_CONFIG_PATH=/root/pipe/config.json
      - POP_INVITE_CODE=YOUR_INVITE_CODE
    ports:
      - "443:443"
      - "80:80"
    volumes:
      - ./pipe:/root/pipe
      - ./start.sh:/start.sh
    healthcheck:
      test: ["CMD", "curl", "--fail", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 5
```
### ğŸ‰ Ã‡alÄ±ÅŸtÄ±r
```
docker compose up -d --build
```
```
docker logs -f pop-node
```
---

## âª 2. Eski Kurulumdan GeÃ§ecekler Ä°Ã§in (Veri KaybÄ±sÄ±z)

### âœ… AdÄ±m 1: Veri klasÃ¶rÃ¼nÃ¼ dÄ±ÅŸarÄ± al
```
docker cp pop-node:/root/pipe /root/pop-data
```
### ğŸ“„ AdÄ±m 2: docker-compose.yml dosyasÄ±nÄ± gÃ¼ncelle
```
nano docker-compose.yml
```
```
services:
  pop-node:
    build: .
    container_name: pop-node
    restart: always
    environment:
      - POP_CONFIG_PATH=/root/pipe/config.json
      - POP_INVITE_CODE=YOUR_INVITE_CODE
    ports:
      - "443:443"
      - "80:80"
    volumes:
      - /root/pop-data:/root/pipe
      - ./start.sh:/start.sh
    healthcheck:
      test: ["CMD", "curl", "--fail", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 5
```
### ğŸ”§ AdÄ±m 3: Yeni image build edip baÅŸlat
```
cd ~/pop-node-docker
docker compose down
docker compose build --no-cache
docker compose up -d
```
### ğŸ“Š Kontrol:
```
docker logs -f pop-node
```
```
docker exec -it pop-node ls -lah /root/pipe
```
---

## ğŸ›  GÃ¼ncellemeler Ä°Ã§in Ne YapmalÄ±?

1. Dockerfile iÃ§indeki pop binary versiyonunu deÄŸiÅŸtir (v0.3.2 vs)
```
docker compose build --no-cache
```
```
docker compose up -d
```





/////////////////////////// alt tarafa bakmayÄ±n iÅŸ makinasÄ± Ã§alÄ±ÅŸÄ±yor



```
cd
cd pop-node-docker
docker cp pop-node:/root/pipe /root/pop-node-docker/pipe
wget https://download.pipe.network/static/pop-v0.3.1-linux-x64.tar.gz
tar -xzf pop-v0.3.1-linux-x64.tar.gz
mv pop ./pipe/pop
git stash push pipe/config.json
git restore --source=origin/main --staged --worktree docker-compose.yml
git pull
git stash pop
docker-compose down
chmod +x ./start.sh
chmod +x ./pipe/pop
```
```
docker-compose build --no-cache
```
```
docker-compose up -d
```

```
docker exec -it pop-node pop --version
```
```
docker logs -f pop-node -n 50
```

Ã§izgisiz compose eski surum
```
cd
cd pop-node-docker
docker cp pop-node:/root/pipe /root/pop-node-docker/pipe
wget https://download.pipe.network/static/pop-v0.3.1-linux-x64.tar.gz
tar -xzf pop-v0.3.1-linux-x64.tar.gz
mv pop ./pipe/pop
git stash push pipe/config.json
git restore --source=origin/main --staged --worktree docker-compose.yml
git pull
git stash pop
docker compose down
chmod +x ./start.sh
chmod +x ./pipe/pop
```
```
docker compose build --no-cache
```
```
docker compose up -d
```

```
docker exec -it pop-node pop --version
```
```
docker logs -f pop-node -n 50
```


////////////////////////////////
```
cd
cd pop-node-docker
wget https://download.pipe.network/static/pop-v0.3.1-linux-x64.tar.gz -O pop.tar.gz
tar -xzf pop.tar.gz
chmod +x ./pop
docker cp ./pop pop-node:/usr/local/bin/pop
docker restart pop-node
```
```
docker exec -it pop-node pop --version
```
```
docker logs -f pop-node -n 50
```


/////////////////////

////////////////  YAPMA /////////////////////////////
```
cd
cd pop-node-docker
git pull
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

socker eski sÃ¼rÃ¼mse docker hatasÄ± verir Ã‡UNKU drak dedem Ã§ok Ã¼zÃ¼lÃ¼r.

```
cd
cd pop-node-docker
git pull
docker compose down
docker compose build --no-cache
docker compose up -d
```
